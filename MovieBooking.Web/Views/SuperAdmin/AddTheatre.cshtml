@model AddTheatreViewModel

<h2 class="mt-4">➕ Add Theatre</h2>

<form method="post" class="card p-4 shadow-sm">

    <!-- THEATRE DETAILS -->
    <div class="mb-3">
        <label class="form-label">Theatre Name</label>
        <input asp-for="Name"
               class="form-control"
               placeholder="PVR Cinemas" />
    </div>

    <div class="mb-3">
        <label class="form-label">Location</label>
        <input asp-for="Location"
               class="form-control"
               placeholder="Hyderabad" />
    </div>

    <hr />

    <!-- TIME SLOTS -->
    <h5 class="mb-2">Daily Show Timings</h5>
    <p class="text-muted mb-3">
        These timings will apply to all screens in this theatre.
    </p>

    <div id="timeSlots"></div>

    <button type="button"
            class="btn btn-outline-primary mb-3"
            onclick="addTimeSlot()">
        ➕ Add Time Slot
    </button>

    <div class="alert alert-info">
        Example: 06:30 – 09:30, 10:00 – 13:00, 14:00 – 17:00
    </div>

    <button class="btn btn-success mt-3">
        Save Theatre
    </button>
</form>

@section Scripts {
    <script>
        let slotIndex = 0;

        function addTimeSlot() {

            const container = document.getElementById("timeSlots");

            const html = `
            <div class="row align-items-end mb-2 time-slot">

                <div class="col">
                    <label>Start Time</label>
                    <input type="time"
                           name="TimeSlots[${slotIndex}].StartTime"
                           class="form-control"
                           required />
                </div>

                <div class="col">
                    <label>End Time</label>
                    <input type="time"
                           name="TimeSlots[${slotIndex}].EndTime"
                           class="form-control"
                           required />
                </div>

                <div class="col-auto">
                    <button type="button"
                            class="btn btn-outline-danger"
                            onclick="this.closest('.time-slot').remove()">
                        ❌
                    </button>
                </div>
            </div>
            `;

            container.insertAdjacentHTML("beforeend", html);
            slotIndex++;
        }
    </script>
}
